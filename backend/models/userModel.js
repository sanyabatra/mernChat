const mongoose=require('mongoose');
const bcrypt = require("bcryptjs");
const userSchema=mongoose.Schema({
    name:{type:String,required:true},
    email:{type:String,required:true,unique:true},
    password:{type:String,required:true},
    pic:{type:String,required:true,default:"data:image/jpeg;base64,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"},
},{timestamps:true});
userSchema.methods.matchPassword=async function(enteredPassword){
    return await bcrypt.compare(enteredPassword,this.password);
}
userSchema.pre("save",async function(next){
    if(!this.isModified){
        next();
    }
    const salt=await bcrypt.genSalt(10);
    this.password=await bcrypt.hash(this.password,salt);
})
const User=mongoose.model("User",userSchema);
module.exports=User;
